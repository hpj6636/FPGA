## 第一章 二进制

### 1.2 控制复杂性的艺术

#### 1.2.1 抽象

管理复杂性的关键技术在于抽象（abstraction）：隐蔽不重要的细节。一个系统可以从多个不同层面抽象。

![c704381b0a12b809712b2be2e48de20](D:\Users\ASUS\Desktop\c704381b0a12b809712b2be2e48de20.jpg)

#### 1.2.2 约束

约束（discipline）是对设计选择的一种内在限制，通过这种限制可以更有效地在更高的抽象层次上工作。使用可互换部件是约束的一种常见应用，其典型例子是来复枪（flintlock rifle）的制作。

#### 1.2.3 三Y原则

层次化：将系统划分为若干模块，然后更进一步划分每个模块直到这些模块可以很容易理解。
模块化：所有模块有定义好的功能和接口，以便于它们之间可以很容易地相互连接而不会产生意想不到的副作用。
规整化：在模块之间寻求一致，通用模块可以重复使用多次以便减少设计不同模块的数量。

### 1.3 数字抽象

数字系统使用离散值变量（discrete-valued variable）来表示信息也就是说，变量是有限数目的不同离散值。一个有N个不同状态的离散值变量的信息量（amount of information）D由位（bit，或称为比特）度量，N和D之间的关系是：
$$
D=log_{2}N位
$$
数字抽象（digital abstraction）的优势在于设计者可以只关注0和1，而忽略布尔变量的物理表示到底是特定的电压，还是旋转的齿轮，或者是液体的高度。计算机编程人员不需要了解计算机硬件的细节就可以工作。此外，对硬件细节的理解使得程序员可以针对特定计算机来优化软件。

### 1.4 数制

#### 1.4.1 十进制数（Decimal）

数码：0、1、2、3、4、5、6、7、8、9
基数：10
$$
权值：10^i
$$
进位规律：逢十进一

#### 1.4.2 二进制数（Binary）

数码：0、1
基数：2
$$
权值：2^i
$$
进位规律：逢二进一

#### 1.4.3 十六进制数（Hexadecimal）

数码：0、1、2、3、4、5、6、7、8、9、A(10)、B(11)、C(12)、D(13)、E(14)、F(15)
基数：16
$$
权值：16^i
$$
进位规律：逢十六进一

####  不同数制间的转换

##### 1、二、八、十六进制转换为十进制

按位权展开再求和

##### 2、十进制转换为二、八、十六进制

整数部分采用“除基取余法”（采用短除法，除到商为0为止，余数的读数顺序从下往上读）
小数部分采用“乘基取整法”（整数的读数顺序从上往下）

##### 3、二进制与八、十六进制相互转换

![5af989d4d06e47a1bb828788031b9a9](D:\Users\ASUS\Desktop\5af989d4d06e47a1bb828788031b9a9.png)

（1）二进制和八进制间的相互转换

二进制→八进制
从小数点开始，整数部分向左、小数部分向右三位一组，不足三位的加0补足三位，再按顺序写出各组对应的八进制数。

八进制→二进制
每位八进制数用三位二进制数代替，再按原顺序排列。

（2）二进制和十六进制的相互转换

二进制→十六进制
从小数点开始，整数部分向左、小数部分向右四位一组，不足四位的加0补足四位，再按顺序写出各组对应的十六进制数。

十六进制→二进制
每位十六进制数用四位二进制数代替，再按原顺序排列。

#### 1.4.4 字节、半字节和全字

8位的一组称为字节（byte），它能表示
$$
2^8=256
$$
个数字。在计算机内存中存储数据习惯于用字节作单位，而不用位。
4位的一组或者半个字节称为半字节（nibble），它能表示
$$
2^4=16
$$
个数字。一个十六进制数占用1个半字节，两个十六进制数占用一个字节。注：半字节已经不是一个常用的单位。
微处理器处理的一块数据称为字（word），字的大小取决于微处理器的结构。

#### 1.4.5 二进制加法

同样，在二进制加法中，如果两个数相加之和大于1，那么将此按二进制进位到更高的一列。

#### 1.4.6 有符号的二进制数

1、带符号的原码（sign/magnitude）

 一种直观的数据表示方式，符合我们写负数的习惯，把负号标在数字前面。在一个N位带符号的原码数中最高位为符号位，剩下的N-1位为数值（绝对值）。符号位为0表示正数，1表示负数。
N位的带符号的原码的数据表示范围是
$$
[-2^{(N-1)}+1, 2^{(N-1)}-1]
$$
 这种格式在表示0时有两种方法+0和-0。同一个数字有两种不同的表示方法可能会造成麻烦。

2、二进制补码

二进制补码中最高位的权是-2^(N-1)而不是2^(N-1)，其他位的表示方法与无符号二进制数相同。它克服了带符号的原码格式中0有两种表示方式的缺点。在二进制补码中，0只有一种表示方式，而且也可以使用普通的加法。

注意正数的最高位都是0，负数的最高位都是1，所以最高位可以当作符号位，然而剩余位的解释与带符号的原码有所不同。

在求二进制补码的过程中二进制补码的符号位保持不变。在此过程中，首先对数据的每位取反，然后在数据的最低位加1。对于计算负数的二进制补码表示或根据二进制补码表示计算负数的值这是很有用的。

### 1.5 逻辑门

最简单的数字电路，可以接收一个或多个二进制输入并产生一个二进制输出。

#### 1.5.1 非门（NOT gate）

单输入逻辑门，非门的输出是输入的反。
$$
符号表示：Y=\overline{A}
$$

#### 1.5.2 缓冲器（buffer）

单输入逻辑门，将输入复制到输出。
$$
符号表示：Y=A
$$

#### 1.5.3 与门（AND gate）

两输入逻辑门，所有输入都为TRUE时输出才为TURE，否则为FALSE。
$$
符号表示：Y=AB
$$

#### 1.5.4 或门（OR gate）

两输入逻辑门，只要有一个输入为TURE，输出Y就为TURE。
$$
符号表示：Y=A+B
$$
![4c7d177442e786cd18aee310bf6c2f6](D:\Users\ASUS\Desktop\4c7d177442e786cd18aee310bf6c2f6.png)

#### 1.5.5 其他两输入逻辑门

异或门（exclusive OR , XOR）输入中有且仅有一个输入为TURE时，输出为TURE。
$$
符号表示：Y=A\bigoplus B
$$
与非门（NAND）只有所有输入为TURE时，输出为FALSE；其他情况输出为TURE。
$$
符号表示：Y=\overline{AB}
$$
或非门（NOR）输入都不为TURE时，输出为TURE。
$$
符号表示：Y=\overline{A+B}
$$
![286e64c9da59b77c8565ced78a5f382](D:\Users\ASUS\Desktop\286e64c9da59b77c8565ced78a5f382.png)

#### 1.5.6 多输入门

有很多需要三个或三个以上输人的布尔函数。最常见的是AND、OR、XOR、N AND、NOR和XNOR。N输人与门在所有输人都为TRUE时才输出TRUE。N输入或门在至少有一个输人为TRUE时就产生TRUE。

![68a854f5b79754167e487174198e12d](D:\Users\ASUS\Desktop\68a854f5b79754167e487174198e12d.png)

![0fec33e2f1014dd04669652e2e4f643](D:\Users\ASUS\Desktop\0fec33e2f1014dd04669652e2e4f643.png)

### 1.6 数字抽象

数字系统采用离散值变量。然而这些变量需要由连续的物理量来表示，例如电线上的申压、齿轮的位置或者桶中的水位高度等。所以，设计者必须找到一种将连续变量和离散变量联系在一起的方法。

#### 1.6.1 电源电压

假设系统中的最低电压为0 V称为地（ground GND）。系统中的最高电压来自电源，常称为
$$
V_{DD}
$$

#### 1.6.2 逻辑电平

通过定义逻辑电平（logic level），可以将连续变量映射到离散的二进制变量，如图1-23所示。第一个门称为驱动源（driver），第二个门称为接收端（receiver）。驱动源的输出连接到接收端的输人。
$$
驱动源产生LOW（0）输出，其电压处于0～V_{OL}之间：或者产生HIGH（1）输出，其电压处于
$$

$$
V_{OH}～V_{DD}之间。
$$

$$
如果，接收端的输人电压处于0～V_{IL}之间，则接收端认为其输人为LOW。如果接收端的输人电压处于
$$

$$
V_{IH}～V_{DD}之间，则接收端认为其输人为HIGH。
$$

$$
如果由于噪声或部件错误，接收端的输人电压处于V_{IL}～V_{IH}之间的禁止区域（forbidden zone），
$$

$$
则输入门的行为不可预测。
$$

$$
V_{IO}和V_{IL1}称为输出高和输出低逻辑电平V和V称为输人高和输人低逻辑电平。
$$

#### 1.6.3噪声容限

$$
如果驱动源的输出能够被接收端的输人正确解释，则必须选择V_{OL}<V_{IL}和V_{OH}>V_{IH}。
$$

因此，即使驱动源的输出被一些噪声干扰，接收端的输人依然能够检测到正确的逻辑电平。可以加在最坏情况输出上但依然能正确解释为有效输人的噪声值，称为噪声容限（noise margin）从图1-23中可以看出，低电平和高电平的噪声容限分别为：
$$
NM_L = V_{IL} - V_{OL}
$$

$$
NM_B = V_{OH} - V_{IH}
$$

![106f0c4eb3d412eec2e1e67cf67c994](D:\Users\ASUS\Desktop\106f0c4eb3d412eec2e1e67cf67c994.png)

#### 1.6.4 直流电压传输特性

门的直流电压传输特性描述了当输人电压变化足够慢且保证输出能跟上输人的变化时，输出电压随输人电压变化的函数关系。这个函数称为传输特性，因为它描述了输人和输出电压之间的关系。

![24230adcde96875de710088768f846f](D:\Users\ASUS\Desktop\24230adcde96875de710088768f846f.png)

#### 1.6.5 静态约束

为了避免输人落到禁止区域，数字逻辑门的设计需要遵循静态约束（static discipline）。静态约束要求，对于给定的有效逻辑输人，每个电路元件应该能产生有效的逻辑输出。
$$
V_{DD}和逻辑电平可以任意选择，但是所有相互通信的逻辑门必须保持兼容的逻辑电平。
$$
因此，逻辑门可以按照逻辑系列（logic family）来区分，其中同一逻辑系列的所有门都遵循相同的静态约束。同一逻辑系列中的逻辑门像积木一样组合在一起，使用相同的电源电压和逻辑电平。
